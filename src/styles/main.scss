@import "libs/bourbon";
@import "libs/normalize";
@import "libs/icon";

@import "settings.scss";

@include normalize();

html, body {
  background-color: $primary-color_darker;
  height: 100%;
  min-height: 220px;
  width: 320px;
  max-width: 320px;
}

button {
  &.-ordinary {
    @include ordinary('button');
  }
}

h1, h2, h3, h4, h5, h6 {
  &.-ordinary {
    @include ordinary('h');
  }
}

.container {
  background-color: hsl(0, 0%, 100%);
  height: inherit;
  color: hsl(0, 0%, 20%);
  overflow: hidden;
  flex-direction: column;
  display: flex;
  position: relative;

  header.toolbar {
    $h: 48px;

    box-shadow: 0 4px 8px hsla(0, 0%, 30%, 0.27);
    background-color: $primary-color_lighter;
    height: $h;
    max-height: $h;
    color: hsl(0, 0%, 100%);
    padding: 0 4px;
    z-index: 14;
    position: relative;
    overflow: hidden;
    flex-grow: 0;
    flex-shrink: 0;

    align-items: center;
    display: flex;

    button {
      $sz: 48px;

      height: $sz;
      width: $sz;
      color: hsl(0, 0%, 100%);
      font-size: 24px;
      flex-shrink: 0;
      flex-grow: 0;

      &:focus {
        color: hsla(0, 0%, 100%, 0.92);
      }

      &.drawer-menu {}

      &.feedback {
        align-self: flex-end;
      }
    }

    > .title {
      font-weight: 600;
      padding: 0 4px;
      flex-grow: 1;
      flex-shrink: 1;
    }
  }

  @at-root main.content {
    background-color: hsl(0, 0%, 96%);
    position: relative;
    flex-grow: 2;

    .page {
      @include position(absolute, 0 0 0 0);
      @include stealth;

      &._on {
        @include stealth(1);
      }

      &.-entry {
        section {
          &.input-stream {
            @include box_shadow;

            background-color: hsl(0, 0%, 100%);
            overflow: hidden;
            position: relative;
            .textarea {
              $lh: 1.25;
              min-height: 5em * $lh;
              max-height: 7em * $lh;
              font-size: 14px;
              color: hsl(0, 0%, 45%);
              line-height: $lh;
              white-space: normal;
              word-wrap: break-word;
              margin: 12px 16px;
              overflow: hidden;

              &::before {
                @include stealth(1);

                content: attr(data-placeholder);
                width: 0;
                white-space: nowrap;
                color: hsl(0, 0%, 72%);
                display: inline-block;
              }

              &._on {
                &::before {
                  @include stealth;
                }
              }
            }
          }

          &.stream-behavior {
            padding: 16px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            > button {
              $sz: 48px;

              height: $sz / 1.25;
              color: hsl(0, 0%, 42%);
              padding: 0 16px;
              overflow: hidden;
              position: relative;
              margin: 0 8px;

              &.translate {
                @include box_shadow;

                transition: box-shadow .25s ease;
                border-radius: 50%;
                background-color: $primary-color_lighter;
                height: $sz;
                width: $sz;
                padding: initial;
                color: hsl(0, 0%, 100%);
                font-size: 24px;

                &:hover {
                  @include box_shadow(3);
                }
              }
            }
          }
        }
      }
    }
  }

  .drawer, .mask {
      @include position(absolute, 0 0 0 0);
    }

  &[data-unique-ui="drawer"] {
    .drawer {
      transform: translateX(100%);
    }
  }
  .drawer {
    $w: 260px;
    transition: transform .25s ease;
    transform: translateX(0%);
    box-shadow: 0 4px 8px hsla(0, 0%, 30%, 0.27);
    background-color: hsl(0, 0%, 100%);
    max-width: $w;
    left: -$w;
    z-index: 54;
  }

  .mask {
    @include stealth;

    background-color: hsl(0, 0%, 5%);
    z-index: 34;

    &._on {
      @include stealth(1);
      opacity: .85;
    }
  }

}

span.wave {
  $sz: .1px;

  border-radius: 50%;
  background-color: hsla(0, 0%, 0%, 0.24);
  height: $sz;
  width: $sz;
  display: block;
  z-index: 999;
  position: absolute;

  animation-name: wave;
  animation-duration: .925s;
  animation-timing-function: ease;
  animation-fill-mode: both;
}

@keyframes wave {
  0% {
    $sz: 0;
    @include stealth(1);
    transform: scale3d($sz, $sz, 1);
  }
  100% {
    $sz: 3000;

    @include stealth;
    transform: scale3d($sz, $sz, 1);
  }
}
